parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Focm":[function(require,module,exports) {
"use strict";function t(t,o){return n(t)||r(t,o)||i(t,o)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}}function n(t){if(Array.isArray(t))return t}function o(t){return u(t)||s(t)||i(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function s(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var h=function(){function e(t){l(this,e),this.attr=t}return d(e,[{key:"concatenate",value:function(){if(!Array.isArray(this.attr))throw new Error("Not An Array");return this.saveLinesByAttr(),1===this.lines.length?{type:"LineString",coordinates:this.lines[0]}:this.getResult()}},{key:"saveLinesByAttr",value:function(){var t=this;this.lines=this.attr.reduce(function(e,r){var n=t.getGeoCoords(r);if(!n)return e;switch(r.type){case"LineString":e.push(n);break;case"MultiLineString":e=[].concat(o(e),o(n))}return e},[])}},{key:"getGeoCoords",value:function(t){var e;return"Feature"===t.type&&(t=t.geometry),null===(e=t)||void 0===e?void 0:e.coordinates}},{key:"getResult",value:function(){return this.doConcatenate(),1===this.result.length?{type:"LineString",coordinates:this.result[0].coords}:{type:"MultiLineString",coordinates:this.result.map(function(t){return t.coords})}}},{key:"doConcatenate",value:function(){this.data=this.lines.map(this.setDataStartEnd),this.result=[this.data.shift()],this.recursion()}},{key:"setDataStartEnd",value:function(e){var r=e[0],n=e[e.length-1],o=t(r,2),a=o[0],i=o[1],s=t(n,2);return{coords:e,startX:a,startY:i,endX:s[0],endY:s[1]}}},{key:"recursion",value:function(){if(0!==this.data.length){for(var e=this.data[0],r=e.coords,n=e.startX,o=e.startY,a=e.endX,i=e.endY,s=!1,u=0;u<this.result.length;u++){var c=this.result[u];if(c.endX===n&&c.endY===o?(s=!0,r.shift(),r=c.coords.concat(r)):c.startX===a&&c.startY===i?(s=!0,r.pop(),r=r.concat(c.coords).reverse()):c.startX===n&&c.startY===o?(s=!0,r.reverse().pop(),r=r.concat(c.coords).reverse()):c.endX===a&&c.endY===i&&(s=!0,r.reverse().shift(),r=c.coords.concat(r)),s){var l=t(this.concatenateResult(r),2),f=l[0],d=l[1];r=f,this.result[u]=this.setDataStartEnd(r),d>=0&&this.result.splice(d,1);break}}s||this.result.push(this.data[0]),this.data.shift(),this.recursion()}}},{key:"concatenateResult",value:function(e){var r=t(e[e.length-1],2),n=r[0],o=r[1],a=this.result.findIndex(function(t){var e=t.startX,r=t.startY;return e===n&&r===o});if(a>=0){var i=this.result[a];return e.pop(),[e=e.concat(i.coords),a]}if((a=this.result.findIndex(function(t){var e=t.endX,r=t.endY;return e===n&&r===o}))>=0){var s=this.result[a];e.reverse().shift(),e=s.coords.concat(e)}return[e,a]}}]),e}(),y=function(t){return new h(t).concatenate()};exports.default=y;
},{}]},{},["Focm"], null)
//# sourceMappingURL=/index.js.map